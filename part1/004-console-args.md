# Программа начинает общаться

На прошлых уроках ты написал простейшую консольную программу, которая здоровается с миром на английском языке. Много людей знают английский, но не все. На этом уроке ты научишь свою программу здороваться на разных языках.

## Передача аргумента в консольной команде

Первое чему ты научишься это передавать свое имя в консольную программу. Самый простой способ передать в консольную программу какие-то данные это перечислить их в аргументах командной строки.


> Вспоминаем, что разрабатываем мы в `Visual Studio Code` в файле `index.js`.

> Проверь, что команда `hello` работает, как во втором уроке и если нет, то заново установи ее.

Аргументы в консольную программу передаются через пробел.

Мы будем передавать имя первым аргументом:

```hello Твое_Имя```

Сейчас если мы выполним команду, ее вывод не изменится, так как она это никак не обрабатывает.

Чтобы продолжить писать дальше тебе надо изучить кое-какие основы Javascript

## Переменные

Чтобы программа имела какой-то смысл, она должна что-то вычислять. Для этого во всех языках используются переменные. Для создания переменной используется слово let.

```js
let message;
```

Данная инструкция создаст переменную с именем message, которой ты потом можешь присвоить значение.

```js
let message;
message = "Hello, World!";
```

Если значение известно заранее, то можешь присвоить его сразу.

```js
let message = "Hello, World!";
```

Теперь ты можешь поменять свою программу так, чтобы она выводила не просто строку, а строкувую переменную.

```js
#!/usr/bin/env node
let message = "Hello, World!";
console.log( message );
```

Попробуй запустить: ```hello Твое_Имя```. Результат работы программы не изменился, но программа стала чуточку сложнее.

Но переменная не называлась бы переменной, если бы не могла изменяться. Посмотри на программу ниже и попробуй догадаться, что она делает.

```js
#!/usr/bin/env node
let message = "Hello, ";
let name = "World";
message = message + name;
console.log( message );
```

Программа создает две переменные ```message``` и ```name``` и с помощью оператора присваивания ```=```, присваивает им соответсвующие значения.

А в четвертой строке появился уже оператор конкатенации ```+``` он работает со строками, объединяя их в одну.

Попробуй исправить программу так, чтобы она выводила твое имя.

Значения у переменных могут быть 8-ми различных типов, как выше строка или как ниже числа:

```js
let age = 13;
let pi = 3.1416;
```

## Константы
Последнее число, надеюсь, ты его узнал, это математическая константа, то есть значение этого числа никогда не меняется. В программах обычно для таких значений не используются переменные. Правильно описывать неизменяемые значения с помощью констант ```const```

```js
let age = 13;
const pi = 3.1416;
```

## Комментарии

Есть такое мнение, что современные программы пишут не для машин, а для людей. Имеется ввиду, что программа не пишется сверху вниз как диктант, а ннаписанная однажды постоянно модифицируется, в том числе и разными людьми. Поэтому программа должна быть написана так, чтобы ее легко мог прочесть человек, который знает язык, в том числе и ты сам через неделю.

Для того, чтобы сложные участки кода было просто понимать программисты обычно добавляют комментарии. В ```JavaScript``` они начинаются с символов ```//``` за которыми код не исполняется.

```js
// многострочный комментарий
// им обычно комментируют последующие строки

let age = 11;
const pi = 3.1416;// обычно для текущей строки
```

## Объекты и их свойства и методы

Я еще не рассказал тебе о всех примитивных типах данных в ```JavaScript```, расскажу позже. Перейдем к сложному типу, так как именно он понадобится тебе, чтобы написать простую программу.

```Объект``` - сложная структура, которая состоит из свойств и их значений.

```js
let human = {
    age: 11, // возраст 11 лет
    gender: 'male' // пол: мужской
};
```

Свойств у объекта может быть абсолютно любое количество, в том числе и ноль, объект без свойств называется пустым объектом и его можно задать так:

```js
let human = {}; // пустой объект
```

Чтобы получить доступ к значению свойства, есть два способа:
```js
human.age; // через точку
human["age"] // через квадратные скобки
```

Чтобы присвоить значение свойству объекта, надо воспользоваться оператором присваивания:

```js
human.age = 12; //присвоение нового значения
```

Чтобы присвоить значение свойству объекта, свойство не должно существовать, но если оно существовало, то старое значение перетрется новым - помни об этом.

## process

Ты уже знаешь про полезный объект `console`, теперь я расскажу тебе про объект `process`. `Process` - это важнейший объект в NodeJS, который предостовляет доступ и контролирует процесс NodeJS.

Чтобы получить к нему доступ в начале файла импортируйте его сразу после ```shebang``` инструкции:

```js
#!/usr/bin/env node
import process from 'process';
```

## process.argv

`argv` - свойство объекта proсess в котором содержатся все аргументы, с которыми вызывалась программа. Добавь вывод этого свойства в консоль, чтобы увидеть, что там хранится:

```js
#!/usr/bin/env node
import process from 'process';
console.log( process.argv );
```

И запусти ```hello Твое_Имя```.
В результате в консоли будет:

```js
[
  'Путь до NodeJS',
  'Путь до твоей программы',
  'Твое_Имя'
]
```

Поле argv представляет из себя массив, но тебе интересны только значения начинающиеся с третьей позиции.

## Массивы

Все что тебе надо прям сейчас знать о массивах, что это набор последовательных значений, и можно обращаться к этим значениям по порядковому номеру, через квадратные скобки. Только нумерация элементов массива начинается с нуля, у программистов так принято, все считать с нуля

```js
#!/usr/bin/env node
import process from 'process';
console.log( process.argv.length ); //выводим длину массива
console.log( process.argv[2] ); //выводим второй элемент массива (на самом деле третий)
```

## undefined

Если запускать программу выше с аргументами ```hello Твое_Имя```, то программа выведет твое имя, но если упустить второй аргумент ```hello```, то программа выведет ```undefined```, это значит что значение не определено. Если переменной не присваивать значений, как в примере в начале урока, то у переменной тоже будет значение  ```undefined``` то же самое случиться, если попытаться обратиться к несуществующему свойству объекта или массива.

## Допиши программу

В целом ты уже все знаешь, чтобы заставить программу здороваться с любым именем, которое ей передадут аргументом. Попробуй дописать программу самостоятельно, если не получится, то подгляди ниже, ничего страшного, если у тебя не получится с первого раза, но важно попытаться сделать все самому.

```js
#!/usr/bin/env node
let message = "Hello, ";
let name = process.argv[2];
message = message + name;
console.log( message );
```

Теперь программа не просто выводит какие-то строки, а уже взаимодействует с пользователем, то есть может запомнить его имя и использовать это в своих вычислениях.

Если ты убедился, что программа работает, залей ее в репозиторий, если забыл как это делается посмотри [во втором уроке ](002-workplace-preparation.md).

## Обновление программы на Raspberry Pi

Подключись по ssh к raspberry pi, как это описано в [предыдущем уроке](003-raspberry-pi-preparation.md)

Перейди к локальному репозиторию 

```cd hello```

И загрузи изменения в локальный репозиторий из ```github```

```git pull```